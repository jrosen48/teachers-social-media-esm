---
title: "Output"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float: true
params:
   overall_time_point_df: ""
   purposes: ""
   purposes_m: ""
   stress_m: ""
   stress_data: ""
   purposes_o: ""
   purposes_c: ""
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, cache = FALSE)

response_df <- params$overall_time_point_df
purposes <- params$purposes

purposes_o <- params$purposes_o
purposes_c <- params$purposes_c

purposes_m <- params$purposes_m

stress_data <- params$stress_data
stress_m <- params$stress_m
```

# Descriptives

## Response Rate

```{r}
response_df %>% 
  mutate(prop = n/14) %>% 
  mutate_if(is.double, round, 3) %>% 
  select(everything(), n, prop) %>% 
  knitr::kable()
```

# RQ 1

## Descriptives

### Purposes - overall

```{r}
purposes %>% 
  mutate_if(is.double, round, 3) %>% 
  knitr::kable()
```

### Purposes - orig

```{r}
purposes_o %>% 
  mutate_if(is.double, round, 3) %>% 
  knitr::kable()
```

### Purposes - covid

```{r}
purposes_c %>% 
  mutate_if(is.double, round, 3) %>% 
  knitr::kable()
```

### Purposes figures

```{r}
knitr::include_graphics(here("img", "all-teachers-how.png"))
```

# RQ 2

## Purposes Models

```{r}
purposes_m %>% 
  mutate_if(is.double, round, 3) %>% 
  knitr::kable()
```

# RQ 3

## Looking at the data 

```{r, eval = TRUE}
stress_data %>% 
  dplyr::select(-recipient_email) %>% 
  set_names(c("time_point", 
              "parenting", "family", "friendships", "mental health", "physical health", "covid - self", "covid - family", "covid - community",
              "videoconference - work", "videoconference - children", "hardware", "lms", "email", "social media",
              "survey_period")) %>% 
  mutate_at(2:15, as.double) %>% 
  skimr::skim()

stress_data %>% 
  dplyr::select(-recipient_email) %>% 
  set_names(c("time_point", 
              "parenting", "family", "friendships", "mental health", "physical health", "covid - self", "covid - family", "covid - community",
              "videoconference - work", "videoconference - children", "hardware", "lms", "email", "social media",
              "survey_period")) %>% 
  mutate_at(2:15, as.double) %>% 
  select(-time_point, -survey_period) %>% 
  corrr::correlate() %>% 
  corrr::fashion()
```

## Stress Models

```{r, eval = TRUE}
stress_m %>% 
  mutate_if(is.double, round, 3) %>% 
  knitr::kable()
```
